<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ArgoSBä¸€é”®å‘½ä»¤ç”Ÿæˆå™¨</title>
  <style>
    :root{--bg:#0b1020;--card:#121831;--ink:#e9edf7;--sub:#b7c1d9;--line:#263255;--acc:#4f7cff;--ok:#22c55e;--warn:#f59e0b;--err:#ef4444}
    *{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,#0b1020 0%,#0e1530 100%);color:var(--ink);font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    .wrap{max-width:1100px;margin:32px auto;padding:0 16px}
    header {
      /* ç§»é™¤ text-align: centerï¼Œä½¿å†…éƒ¨æ–‡æœ¬å·¦å¯¹é½ */
      margin-bottom:16px;
    }
    header h1 {
      font-size:36px;
      margin-bottom:6px;
      text-align: center; /* ä¿æŒ h1 å±…ä¸­ */
    }
    header p {
      margin:0;
      font-size:14px;
      color: var(--sub);
      line-height: 1.6;
      max-width: 400px; /* é™åˆ¶ p æ ‡ç­¾çš„æœ€å¤§å®½åº¦ï¼Œä½¿å…¶æ›´å®¹æ˜“å±…ä¸­ */
      margin-left: auto;
      margin-right: auto;
      text-align: left; /* ç¡®ä¿ p æ ‡ç­¾å†…çš„æ–‡æœ¬å·¦å¯¹é½ */
    }
    header a {
      color: var(--acc);
      text-decoration: none;
    }
    header a:hover {
      text-decoration: underline;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto auto;
      gap: 16px;
    }

    @media (max-width: 980px) {
      .grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
      }
    }

    .protocol-port { grid-column: 1; grid-row: 1 / 3; }
    .outbound-warp { grid-column: 2; grid-row: 1; }
    .argo-tunnel { grid-column: 2; grid-row: 2; }
    .shortcut-commands-card { grid-column: 1 / 3; grid-row: 3; }
    .out { grid-column: 1 / 3; grid-row: 4; }

    .card {
      background: rgba(255,255,255,.04);
      backdrop-filter: blur(6px);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 16px;
    }
    .card h2 { margin:0 0 12px; font-size:20px; color:#cbd5e1 }

    /* é’ˆå¯¹åè®®ä¸ç«¯å£æ¨¡å—çš„ä¿®æ”¹ */
    .protocol-port .row {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 12px;
    }
    .protocol-port .row label {
        white-space: nowrap;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .protocol-port .row input[type="text"] {
        flex: 1 1 150px;
        width:auto;
        padding:10px 12px; border:1px solid var(--line); border-radius:10px;
        background:#0d1430; color:var(--ink); outline:none;
    }

    /* åŸæœ‰çš„ .row æ ·å¼åªä¿ç•™ç»™å…¶ä»–æ¨¡å—ä½¿ç”¨ */
    .row:not(.protocol-port .row) { display:grid; grid-template-columns:200px 1fr; gap:12px; align-items:center; margin:8px 0 }

    label { display:flex; align-items:center; gap:10px }
    input[type="text"], input[type="number"], select {
      width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:10px;
      background:#0d1430; color:var(--ink); outline:none;
    }
    input[disabled]{opacity:.5}
    .switch {
      position:relative; width:48px; height:28px; background:#263255; border-radius:99px; cursor:pointer; transition:.2s;
    }
    .switch::after {
      content:""; position:absolute; inset:3px auto 3px 3px; width:22px; border-radius:50%; background:white; transition:.2s;
    }
    .switch.on { background:var(--acc) }
    .switch.on::after { left:auto; right:3px }
    .pill {
      display:inline-block; font-size:12px; padding:2px 8px; border:1px solid var(--line);
      border-radius:999px; color:#cbd5e1; margin-left:6px;
    }
    .actions {
      display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;
    }
    button {
      cursor:pointer; border:1px solid var(--line);
      background:linear-gradient(180deg,#1a2346,#121a39);
      color:var(--ink); padding:10px 14px; border-radius:12px;
    }
    button.primary {
      background:linear-gradient(180deg,#4f7cff,#385fdf);
      border-color:#476de2;
    }
    button.ghost { background:transparent }
    .out { position:relative }
    textarea {
      width:100%; min-height:130px; background:#0a1128; color:#dbeafe;
      border:1px dashed #3752a6; border-radius:12px; padding:12px; white-space:pre; resize:vertical;
    }
    .tabs {
      display:flex; gap:8px; margin:0 0 12px;
    }
    .tab {
      padding:8px 10px; border-radius:10px; border:1px solid var(--line);
      color:var(--sub); cursor:pointer;
    }
    .tab.active {
      border-color:#5a73c9; color:var(--ink); background:rgba(79,124,255,.15);
    }
    
    /* æ–°å¢çš„å¿«æ·æ–¹å¼å‘½ä»¤ç»„çš„æ ·å¼ */
    .shortcut-commands-content {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }
    .shortcut-commands-content p {
        margin: 0;
        white-space: nowrap;
    }
    .shortcut-commands-content .command-button {
      background: #1a2346;
      color: var(--ink);
      padding: 8px 12px;
      border: 1px solid var(--line);
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
    }
    .shortcut-commands-content .command-button:hover {
      background: #263255;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>ArgoSBå°é’¢ç‚®ğŸ’£ä¸€é”®å‘½ä»¤ç”Ÿæˆå™¨ V25.8.12</h1>
      <p>
        ç”¬å“¥ArgoSBé¡¹ç›®ï¼š
        <a href="https://github.com/yonggekkk/ArgoSB" target="_blank">github.com/yonggekkk/ArgoSB</a><br>
        ç”¬å“¥Bloggeråšå®¢ï¼š
        <a href="https://ygkkk.blogspot.com" target="_blank">ygkkk.blogspot.com</a><br>
        ç”¬å“¥YouTubeé¢‘é“ï¼š
        <a href="https://www.youtube.com/@ygkkk" target="_blank">www.youtube.com/@ygkkk</a><br>
      </p>
    </header>

    <div class="grid">
      <section class="card protocol-port">
        <h2>é€‰æ‹©çš„åè®®ä¸ç«¯å£ï¼š</h2>
        <div class="row">
          <label><input type="checkbox" data-proto="vmpt"> Vmess-ws <span class="pill">vmpt</span></label><input type="text" placeholder="ç•™ç©ºåˆ™éšæœºç«¯å£ï¼ˆArgoå›ºå®šéš§é“å¿…é¡»å¡«å†™ç«¯å£ï¼‰" data-port="vmpt">
          <label><input type="checkbox" data-proto="vlpt"> Vless-Reality-Vision <span class="pill">vlpt</span></label><input type="text" placeholder="ç•™ç©ºåˆ™éšæœºç«¯å£" data-port="vlpt">
          <label><input type="checkbox" data-proto="xhpt"> Vless-Xhttp-Reality <span class="pill">xhpt</span></label><input type="text" placeholder="ç•™ç©ºåˆ™éšæœºç«¯å£" data-port="xhpt">
          <label><input type="checkbox" data-proto="anpt"> AnyTLS <span class="pill">anpt</span></label><input type="text" placeholder="ç•™ç©ºåˆ™éšæœºç«¯å£" data-port="anpt">
          <label><input type="checkbox" data-proto="hypt"> Hysteria2 <span class="pill">hypt</span></label><input type="text" placeholder="ç•™ç©ºåˆ™éšæœºç«¯å£" data-port="hypt">
          <label><input type="checkbox" data-proto="tupt"> Tuic <span class="pill">tupt</span></label><input type="text" placeholder="ç•™ç©ºåˆ™éšæœºç«¯å£" data-port="tupt">
          <label><input type="checkbox" data-proto="sspt"> Shadowsocks-2022 <span class="pill">sspt</span></label><input type="text" placeholder="ç•™ç©ºåˆ™éšæœºç«¯å£" data-port="sspt">
        </div>
      </section>

      <section class="card outbound-warp">
        <h2>é…ç½®å‚æ•°ï¼š </h2>
        <div class="row"><label>UUID å¯†ç  <span class="pill">uuid</span></label><input id="uuid" type="text" placeholder="ç•™ç©ºåˆ™éšæœºç”Ÿæˆuuidå¯†ç "/></div>
        <div class="row"><label>Reality åŸŸå <span class="pill">reym</span></label><input id="reym" type="text" placeholder="ç•™ç©ºåˆ™é»˜è®¤www.yahoo.com"/></div>
        <div class="row"><label>WARP å…¨å±€å‡ºç«™ <span class="pill">warp</span></label>
          <select id="warp">
            <option value="">é»˜è®¤ æœåŠ¡å™¨æœ¬åœ°IPå‡ºç«™</option>
            <option value="s">ä»… Sing-boxå…¨å±€WARPå‡ºç«™</option>
            <option value="x">ä»… Xrayå…¨å±€WARPå‡ºç«™</option>
            <option value="both">Sing-box + Xrayå…¨å±€WARPå‡ºç«™</option>
          </select>
        </div>
        <div class="row"><label>IPv4/IPv6 å‡ºç«™ä¼˜å…ˆ <span class="pill">ipyx</span></label>
          <select id="ipyx">
            <option value="">é»˜è®¤ è‡ªåŠ¨</option>
            <option value="46">IPv4 ä¼˜å…ˆ</option>
            <option value="64">IPv6 ä¼˜å…ˆ</option>
            <option value="4">ä»… IPv4</option>
            <option value="6">ä»… IPv6</option>
          </select>
        </div>
        <div class="row"><label>IPv4/IPv6 é…ç½®å¯¼å‡º <span class="pill">ippz</span></label>
          <select id="ippz">
            <option value="">é»˜è®¤ è‡ªåŠ¨</option>
            <option value="4">å¯¼å‡º IPv4</option>
            <option value="6">å¯¼å‡º IPv6</option>
          </select>
        </div>
        <div class="row"><label>å¯¼å‡ºèŠ‚ç‚¹åç§°å‰ç¼€ <span class="pill">name</span></label><input id="name" type="text" placeholder="ç•™ç©ºåˆ™é»˜è®¤åè®®åå‰ç¼€"/></div>
      </section>

      <section class="card argo-tunnel">
        <h2>Argoéš§é“ï¼ˆVmess-wsåè®®è‡ªåŠ¨æ¿€æ´»ï¼‰ï¼š</h2>
        <div class="row">
          <label>å¯ç”¨Argo <span class="pill">argo</span></label>
          <div id="argoBtn" class="switch" role="switch" aria-checked="false"></div>
        </div>
        <div class="row"><label>å›ºå®šéš§é“CFåŸŸå <span class="pill">agn</span></label><input id="agn" type="text" placeholder="è§£æåœ¨CFçš„åŸŸåï¼Œç•™ç©ºåˆ™ä¸´æ—¶éš§é“" disabled></div>
        <div class="row"><label>å›ºå®šéš§é“Token <span class="pill">agk</span></label><input id="agk" type="text" placeholder="eyå¼€å¤´çš„ç§˜é’¥ï¼Œç•™ç©ºåˆ™ä¸´æ—¶éš§é“" disabled></div>
      </section>

      <section class="card shortcut-commands-card">
        <h2>è„šæœ¬å®‰è£…å®Œæˆåï¼Œå¯ç”¨çš„å¿«æ·æ–¹å¼ï¼š</h2>
        <div class="shortcut-commands-content">
          <button class="command-button" data-command="list">èŠ‚ç‚¹æ˜¾ç¤ºå‘½ä»¤ï¼šlist</button>
          <button class="command-button" data-command="del">å¸è½½è„šæœ¬å‘½ä»¤ï¼šdel</button>
          <button class="command-button" data-command="res">é‡å¯è„šæœ¬å‘½ä»¤ï¼šres</button>
          <button class="command-button" data-command="rep">æ›´æ¢å˜é‡å‘½ä»¤ï¼ˆæ³¨:å…ˆè®¾å¥½å˜é‡å†ç‚¹å‡»ï¼‰ï¼šrep</button>
        </div>
      </section>

      <section class="card out">
        <div class="tabs">
          <h2>è¿›å…¥æœåŠ¡å™¨çš„SSHç•Œé¢ï¼Œå¤åˆ¶ä¸‹æ–¹ç”Ÿæˆçš„ä¸€é”®è„šæœ¬å‘½ä»¤ï¼Œå›è½¦ä¸€æ¬¡æå®š</h2>
        </div>
        <textarea id="output" spellcheck="false"></textarea>
        <div class="actions">
          <button id="reset">é‡ç½®</button>
          <button id="copy">å¤åˆ¶</button>
        </div>
      </section>
    </div>
  </div>

<script>
(function(){
  const CURL = 'bash <(curl -Ls https://raw.githubusercontent.com/yonggekkk/argosb/main/argosb.sh)';
  const protoKeys = ['vmpt','vlpt','xhpt','anpt','hypt','tupt','sspt'];
  const optIds = ['warp','ippz','ipyx','uuid','reym','name'];
  const argoSwitch = document.getElementById('argoBtn');
  const agn = document.getElementById('agn');
  const agk = document.getElementById('agk');
  const vmessWsCheckbox = document.querySelector('[data-proto="vmpt"]');
  const output = document.getElementById('output');
  const allInputs = document.querySelectorAll('input, select');
  const checkboxes = document.querySelectorAll('input[type="checkbox"]');
  const textInputs = document.querySelectorAll('input[type="text"]');

  function updateArgoState(isEnabled) {
    argoSwitch.classList.toggle('on', isEnabled);
    argoSwitch.setAttribute('aria-checked', isEnabled ? 'true' : 'false');
    [agn, agk].forEach(i => i.disabled = !isEnabled);
    render();
  }

  // New function to reset all form inputs to their default state
  function resetForm() {
    checkboxes.forEach(cb => {
        cb.checked = false;
    });
    textInputs.forEach(inp => {
        inp.value = '';
    });
    document.getElementById('warp').value = '';
    document.getElementById('ipyx').value = '';
    document.getElementById('ippz').value = '';
    document.getElementById('uuid').value = '';
    document.getElementById('reym').value = '';
    document.getElementById('name').value = '';
    updateArgoState(false);
  }

  argoSwitch.addEventListener('click', () => {
    const on = !argoSwitch.classList.contains('on');
    if (on) {
      vmessWsCheckbox.checked = true;
    }
    updateArgoState(on);
  });

  vmessWsCheckbox.addEventListener('change', () => {
    if (!vmessWsCheckbox.checked) {
      updateArgoState(false);
    }
    render();
  });

  document.querySelectorAll('[data-port]').forEach(inp => {
    inp.addEventListener('input', () => {
      const key = inp.getAttribute('data-port');
      const ck = document.querySelector(`[data-proto="${key}"]`);
      if (!ck) return;
      if (inp.value.trim() !== '' && !ck.checked) {
        ck.checked = true;
      }
      render();
    });
  });

  document.querySelectorAll('[data-proto]').forEach(ck => {
    ck.addEventListener('change', () => {
      if (ck.getAttribute('data-proto') === 'vmpt' && !ck.checked) {
        updateArgoState(false);
      }
      render();
    });
  });

  function collectVars(){
    const m = {};
    protoKeys.forEach(k => {
      const ck = document.querySelector(`[data-proto="${k}"]`);
      const pt = document.querySelector(`[data-port="${k}"]`);
      if (ck && ck.checked) {
        const v = (pt.value || '').trim();
        m[k] = v;
      }
    });
    optIds.forEach(id => {
      const el = document.getElementById(id);
      const v = (el.value || '').trim();
      if (id === 'warp' && v === 'both') {
        m[id] = '';
      } else if (v !== '') {
        m[id] = v;
      }
    });
    if (argoSwitch.classList.contains('on')) {
      m['argo'] = 'y';
      const _agn = (agn.value || '').trim();
      const _agk = (agk.value || '').trim();
      if (_agn) m['agn'] = _agn;
      if (_agk) m['agk'] = _agk;
    }
    return m;
  }

  function toBashVars(m){
    const keys = Object.keys(m);
    const ordered = [];
    protoKeys.forEach(k => { if (keys.includes(k)) ordered.push(k); });
    ['warp', 'uuid', 'reym', 'name', 'ippz', 'ipyx'].forEach(k => { if (keys.includes(k)) ordered.push(k); });
    if (keys.includes('argo')) ordered.push('argo');
    ['agn', 'agk'].forEach(k => { if (keys.includes(k)) ordered.push(k); });
    keys.forEach(k => { if (!ordered.includes(k)) ordered.push(k); });

    return ordered.map(k => {
      const val = m[k];
      if (val === '') return `${k}=""`;
      if (/[^\w\-\.:/]/.test(val)) {
        return `${k}="${val.replace(/"/g, '\\"')}"`;
      }
      return `${k}="${val}"`;
    }).join(' ');
  }

  function render(){
    const m = collectVars();
    const vars = toBashVars(m);
    output.value = (vars ? vars + ' ' : '') + CURL;
  }

  render();

  allInputs.forEach(el => {
    el.addEventListener('input', render);
    el.addEventListener('change', render);
  });
  
  document.querySelectorAll('.command-button').forEach(btn => {
    btn.addEventListener('click', () => {
      const command = btn.getAttribute('data-command');
      if (command === 'rep') {
        const m = collectVars();
        const vars = toBashVars(m);
        output.value = (vars ? vars + ' ' : '') + CURL + ' rep';
      } else {
        // Reset the form for list, del, and res commands
        resetForm();
        output.value = `${CURL} ${command}`;
      }
    });
  });

  document.getElementById('copy').addEventListener('click', async () => {
    const t = document.getElementById('output');
    t.select(); t.setSelectionRange(0, 99999);
    try { await navigator.clipboard.writeText(t.value); showToast('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'); } catch (e) { document.execCommand('copy'); showToast('å·²å¤åˆ¶'); }
  });

  document.getElementById('reset').addEventListener('click', () => { location.reload(); });

  function showToast(msg) {
    const d = document.createElement('div');
    d.textContent = msg; d.style.position = 'fixed'; d.style.left = '50%'; d.style.top = '20px'; d.style.transform = 'translateX(-50%)';
    d.style.padding = '10px 14px'; d.style.background = 'rgba(0,0,0,.6)'; d.style.color = '#fff'; d.style.border = '1px solid #334155'; d.style.borderRadius = '10px'; d.style.zIndex = 9999;
    document.body.appendChild(d); setTimeout(() => d.remove(), 1400);
  }
})();
</script>
</body>
</html>



